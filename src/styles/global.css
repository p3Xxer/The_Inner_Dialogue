@import "tailwindcss";
@import "./typography.css";

/* CSS custom properties (:root) are generated dynamically by Layout.astro from src/theme.ts */

@theme inline {
  --font-app:
    "iA Writer Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
    monospace;

  --color-bg-root: var(--bg-root);
  --color-bg-elevated: var(--bg-elevated);
  --color-bg-subtle: var(--bg-subtle);
  --color-bg-hover: var(--bg-hover);

  --color-border-subtle: var(--border-subtle);
  --color-border-strong: var(--border-strong);

  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-text-muted: var(--text-muted);
  --color-text-disabled: var(--text-disabled);

  --color-accent-primary: var(--accent-primary);
  --color-accent-primary-hover: var(--accent-primary-hover);
  --color-accent-primary-muted: var(--accent-primary-muted);
  --color-accent-secondary: var(--accent-secondary);
  --color-accent-secondary-muted: var(--accent-secondary-muted);
  --color-accent-tertiary: var(--accent-tertiary);
}

@layer base {
  * {
    @apply border-border-subtle outline-accent-primary/75;
    scrollbar-width: auto;
    scrollbar-color: var(--color-bg-subtle) transparent;
  }
  html {
    @apply overflow-y-scroll scroll-smooth;
    font-size: 18px;
  }
  body {
    @apply flex min-h-svh flex-col bg-bg-root font-app leading-[1.7] text-text-primary selection:bg-accent-primary/75 selection:text-bg-root;
  }
  a,
  button {
    @apply outline-offset-1 outline-accent-primary focus-visible:no-underline focus-visible:outline-2 focus-visible:outline-dashed;
  }
  button:not(:disabled),
  [role="button"]:not(:disabled) {
    cursor: pointer;
  }
}

@utility max-w-app {
  max-width: 42.5rem;
}

@utility max-w-library {
  max-width: 68.75rem;
}

@utility app-layout {
  @apply mx-auto w-full max-w-app px-4;
}

.active-nav {
  @apply underline decoration-wavy decoration-2 underline-offset-8;
}

/* Source: https://piccalil.li/blog/a-more-modern-css-reset/ */
:target {
  scroll-margin-block: 1rem;
}
